<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.82.1" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicons/android-chrome-512x512.png" sizes="512x512">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/favicons/site.webmanifest">
<title>我的测试 | Joevaen</title>
<meta property="og:title" content="我的测试" />
<meta property="og:description" content="记录实践过程和遇到的问题。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Joevaen.github.io/yolov5/custom/" /><meta property="article:section" content="yolov5" />

<meta property="article:modified_time" content="2021-07-13T15:31:45&#43;08:00" /><meta property="og:site_name" content="Joevaen" />

<meta itemprop="name" content="我的测试">
<meta itemprop="description" content="记录实践过程和遇到的问题。">
<meta itemprop="dateModified" content="2021-07-13T15:31:45&#43;08:00" />
<meta itemprop="wordCount" content="259">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="我的测试"/>
<meta name="twitter:description" content="记录实践过程和遇到的问题。"/>



<link rel="preload" href="/css/style.min.e3cf82e558200e98b09736f835e12b188dca1353aad6649d3429c72923031431.css" as="style">
<link href="/css/style.min.e3cf82e558200e98b09736f835e12b188dca1353aad6649d3429c72923031431.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163836834-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-163836834-2');
  gtag('config', 'UA-60127042-1');
</script>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="canonical" href="https://Joevaen.github.io/yolov5/custom/">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@grpcio">
<meta name="twitter:creator" content="@grpcio">
<meta name="twitter:image" content="https://Joevaen.github.io/img/logos/grpc-icon-color.png">
<meta name="twitter:image:alt" content="Joevaen color logo">

<meta property="og:url" content="https://Joevaen.github.io/yolov5/custom/">
<meta property="og:title" content="我的测试">
<meta property="og:description" content="记录实践过程和遇到的问题。">
<meta property="og:type" content="article">
<meta property="og:site_name" content="Joevaen">
<meta property="og:image" content="https://Joevaen.github.io/img/logos/grpc-icon-color.png">
<meta property="og:image:type" content="image/png">
<meta property="og:image:alt" content="Joevaen color logo">
<meta property="og:locale" content="en_US">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicons/android-chrome-512x512.png" sizes="512x512">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/favicons/site.webmanifest">

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark  td-navbar-cover flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="672pt" height="436pt" viewBox="0 0 672 436"><g transform="translate(0.000000,436.000000) scale(0.100000,-0.100000)" fill="#000" stroke="none"><path d="M3066 3659c-376-41-707-264-894-602-35-63-50-101-45-113 4-12 3-15-5-10s-10 1-5-10c5-13 9-11 23 15 9 18 19 29 22 25 4-3 4 3 1 15-4 14-1 21 9 21 8 0 27 23 42 51 119 218 360 416 607 499 96 33 250 60 337 60 551 0 1009-390 1097-933 48-296-20-597-193-847-24-36-35-56-23-46 35 32 24 2-23-61-49-64-119-128-220-198-36-26-66-49-66-51 0-10 123 74 187 128 63 53 173 174 182 201 2 7 9 19 16 27s36 58 63 110c198 373 185 786-35 1159-25 42-60 95-79 118-42 51-45 68-4 22 68-76 190-285 190-326 0-7 5-12 11-10 6 1 14-4 17-12 2-8 0-11-5-8-6 4-8-4-5-19 3-18 7-22 12-13 6 8 12-2 19-29 6-23 15-59 21-80 31-121 29-332-5-516-9-44-13-81-11-83s16 47 31 109c26 106 27 122 22 268-4 119-12 179-32 260-56 225-191 440-375 598-70 59-261 182-284 182-6 0 25-21 69-47 44-25 105-65 135-89 62-48 149-134 135-134-6 0-32 23-60 51-67 67-224 171-325 215-78 34-249 83-294 85-21 0-21 1-1 9 15 7 8 9-30 10-27 0-72 2-1e2 4-27 2-86 0-129-5z"/><path d="M36e2 3580c8-5 20-10 25-10 6 0 3 5-5 10s-19 10-25 10c-5 0-3-5 5-10z"/><path d="M3519 3276c-69-18-136-62-211-138-191-194-325-488-288-630 12-45 45-88 67-88 18 0 16 19-2 27-24 9-45 57-45 103 0 121 141 397 271 531 111 115 241 189 303 173 1e2-25 76-265-64-626l-40-105-58-13c-79-17-211-65-309-110-197-92-359-233-429-375-35-71-39-87-39-154 0-65 4-83 28-123 61-104 188-133 299-70 70 41 176 152 251 265 67 102 188 333 243 464 37 89 39 92 79 102 43 11 84 36 74 45-3 3-24-2-47-11s-45-14-48-11 15 63 41 133c126 349 145 579 49 615-33 13-68 12-125-4zm-29-794c0-4-47-102-104-218-197-398-362-594-5e2-594-68 0-124 44-151 119-85 243 203 545 645 675 93 27 110 30 110 18z"/><path d="M2081 2794c0-11 3-14 6-6 3 7 2 16-1 19-3 4-6-2-5-13z"/><path d="M4291 2784c0-11 3-14 6-6 3 7 2 16-1 19-3 4-6-2-5-13z"/><path d="M2071 2754c0-11 3-14 6-6 3 7 2 16-1 19-3 4-6-2-5-13z"/><path d="M4302 2740c0-14 2-19 5-12 2 6 2 18 0 25-3 6-5 1-5-13z"/><path d="M2061 2714c0-11 3-14 6-6 3 7 2 16-1 19-3 4-6-2-5-13z"/><path d="M2052 2660c0-14 2-19 5-12 2 6 2 18 0 25-3 6-5 1-5-13z"/><path d="M2043 2585c0-22 2-30 4-17 2 12 2 30 0 40-3 9-5-1-4-23z"/><path d="M4252 2018c-15-37-19-55-11-63 7-7 8-4 3 9-6 15-4 17 6 11 9-5 11-4 6 3-4 7-3 12 3 12s7 7 4 17c-5 12-3 14 8 8 8-4 11-5 7 0-4 4-4 13 2 19 5 7 5 17 1 24s-15-8-29-40z"/><path d="M4205 1919c-3-4 2-6 10-5 21 3 28 13 10 13-9 0-18-4-20-8z"/><path d="M4024 1668l-19-23 23 19c12 11 22 21 22 23 0 8-8 2-26-19z"/><path d="M4015 1628l-40-43 43 40c39 36 47 45 39 45-2 0-21-19-42-42z"/><path d="M3969 1613c-13-16-12-17 4-4s21 21 13 21c-2 0-10-8-17-17z"/><path d="M3919 1543c-13-16-12-17 4-4 9 7 17 15 17 17 0 8-8 3-21-13z"/><path d="M3705 1428c-11-6-23-15-26-20-3-6-9-9-13-9-19 3-27 0-22-7 7-12-61-35-75-26-8 5-9 3-4-6 6-10 3-12-13-8-14 4-20 2-15-5 4-6-2-8-15-5-12 4-20 2-17-2 3-5 0-10-7-13-7-2-2-2 12 0 39 7 179 63 194 78 7 8 16 12 18 10 3-3 5 2 5 10s-1 15-1 15c-1 0-10-6-21-12z"/><path d="M3448 1313c7-3 16-2 19 1 4 3-2 6-13 5-11 0-14-3-6-6z"/><path d="M3355 13e2c-27-7-27-8-5-8 14 0 39 4 55 8 27 7 27 8 5 8-14 0-38-4-55-8z"/><path d="M3263 1283c9-2 25-2 35 0 9 3 1 5-18 5s-27-2-17-5z"/><path d="M1810 981c0-75-4-103-15-115-17-17-20-66-4-66 6 0 24 13 40 29 29 29 29 31 29 140v111h-25c-25 0-25 0-25-99z"/><path d="M2211 1062c-51-25-73-61-74-120-1-70 33-116 101-137 36-10 28 31-13 69-26 25-35 42-35 66s9 41 35 66c19 18 35 42 35 53 0 25-5 26-49 3z"/><path d="M2290 1060c0-12 16-36 35-54 26-25 35-42 35-66s-9-41-35-66c-41-38-49-79-12-69 66 20 99 65 99 135s-33 115-99 135c-19 5-23 2-23-15z"/><path d="M2692 1053l3-28h1e2 1e2l3 28 3 27h-106-106l3-27z"/><path d="M3150 1068c0-7 23-70 52-140 48-119 53-128 78-128s30 9 78 130c29 72 52 135 52 141s-12 9-27 7c-23-2-31-13-51-63-13-33-31-76-39-95l-14-35-25 59c-13 33-24 63-24 67s15 9 33 11c27 2 32 7 32 28 0 24-3 25-72 28-55 2-73 0-73-10z"/><path d="M3724 1003c-43-93-48-128-19-128 15 0 28 17 50 63l30 62 25-62c14-35 27-66 28-70 2-5-35-8-82-8-76 0-86-2-1e2-22-8-12-13-25-10-30 7-11 261-10 268 1 3 5-19 67-49 137-48 114-57 129-80 132s-29-4-61-75z"/><path d="M4187 1073c-4-3-7-14-7-24 0-25 28-31 125-27 79 3 80 3 83 31l3 27h-99c-54 0-102-3-105-7z"/><path d="M4670 1068c0-7 43-71 96-141 77-105 99-128 117-125 21 3 22 7 25 141l3 138-28-3c-28-3-28-4-33-86l-5-83-62 85c-50 69-68 86-88 86-14 0-25-6-25-12z"/><path d="M2694 955c-14-37 2-45 89-45 88 0 114 11 101 44-9 23-182 24-190 1z"/><path d="M4184 955c-3-8-3-22 0-30 5-13 22-15 98-13 92 3 93 3 93 28s-1 25-93 28c-76 2-93 0-98-13z"/><path d="M1675 890c-10-16 4-48 32-70 32-25 40-25 48 0 13 40-60 103-80 70z"/><path d="M4670 850c0-47 2-50 25-50s25 3 25 50-2 50-25 50-25-3-25-50z"/><path d="M2694 845c-3-8-3-22 0-30 5-13 23-15 103-13 97 3 98 3 98 28s-1 25-98 28c-80 2-98 0-103-13z"/><path d="M4184 845c-15-38 1-45 106-45h101l-3 28-3 27-98 3c-80 2-98 0-103-13z"/></g></svg></span><span class="text-uppercase font-weight-bold">Joevaen</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/about/" ><span>nnUNet</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs/" ><span>MMDetection</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/showcase/" ><span>论文</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog/" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/community/" ><span>C&#43;&#43;</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/yolov5/" ><span>Yolo V5</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-default td-outer">
      
      <main role="main" class="td-main">
        












<section id="td-cover-block-0" class="row td-cover-block td-cover-block--height-sm js-td-cover td-overlay td-overlay--dark -bg-primary">
  <div class="container td-overlay__inner">
    <div class="row">
      <div class="col-12">
        <div class="text-center">
          
          
          <div class="pt-3 lead">
            
                <div class="text-left">
  <h1 class="display-1 mb-5">我的测试</h1><h3 class="font-weight-light">记录实践过程和遇到的问题。</h3>
  </div>

            
          </div>
        </div>
      </div>
    </div>
  </div>
  
</section>

<div class="container l-container--padded">
<div class="row">




  
    <div class="d-lg-none col-12">
      <div class="td-toc td-toc--inline">
  
      
        <a id="td-content__toc-link" class="collapsed" href="#td-content__toc" data-toggle="collapse" aria-controls="td-page-toc" aria-expanded="false" aria-label="Toggle toc navigation">
          <span class="lead">Contents<i class="fas fa-chevron-right ml-2"></i></span>
        </a>
        <div id="td-content__toc" class="collapse">
          <nav id="TableOfContents">
  <ul>
    <li><a href="#1创建datasetyaml文件">1.创建dataset.yaml文件</a></li>
    <li><a href="#2创建标签文件">2.创建标签文件</a></li>
    <li><a href="#3规划路径">3.规划路径</a></li>
    <li><a href="#4选择模型">4.选择模型</a></li>
    <li><a href="#5训练">5.训练</a></li>
  </ul>

  <ul>
    <li><a href="#权重和偏移量显示">权重和偏移量显示</a></li>
    <li><a href="#本地显示">本地显示</a></li>
  </ul>
</nav>
        </div>
        <button id="td-content__toc-link-expanded" href="#td-content__toc" class="btn btn-small ml-1 my-2 py-0 px-3" data-toggle="collapse" aria-controls="td-docs-toc" aria-expanded="true" aria-label="Toggle toc navigation">
        </button>
      
    </div>
  </div>

</div>
<div class="row-100">
<div class="col-50 col-lg-8">
<p>这个教程会向你展示怎么使用yolov5训练你的自定义数据</p>
<h1 id="准备工作">准备工作</h1>
<hr>
<p>克隆这个仓库，下载教程的数据集，然后安装
<a href="https://github.com/ultralytics/yolov5/blob/master/requirements.txt" target="_blank" rel="noopener">requirements.txt<i class="fas fa-external-link-alt"></i></a>
, 包括 <strong>Python&gt;=3.8</strong> 和 <strong>PyTorch&gt;=1.7</strong>.</p>
<pre><code>$ git clone https://github.com/ultralytics/yolov5  # clone repo
$ cd yolov5
$ pip install -r requirements.txt  # install
</code></pre>
<h1 id="训练自定义数据">训练自定义数据</h1>
<hr>
<h2 id="1创建datasetyaml文件">1.创建dataset.yaml文件</h2>
<p><a href="https://www.kaggle.com/ultralytics/coco128" target="_blank" rel="noopener">COCO128<i class="fas fa-external-link-alt"></i></a>是COCO数据集的train2017中的前128张图片。这些相同的128张图像用于训练和验证，以验证我们的训练管道是否能够过拟合。下面所显示出的 data/coco128.yaml是
配置文件的路径，配置了以下几个参数：</p>
<ul>
<li>数据集的根路径和训练/验证/测试集的路径（或者指向数据集路径的文件）</li>
<li>类别数目</li>
<li>一个保存类别名的列表</li>
</ul>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#09f;font-style:italic"># Train/val/test sets as 1) dir: path/to/imgs, 2) file: path/to/imgs.txt, or 3) list: [path/to/imgs1, path/to/imgs2, ..]</span>
path: <span style="color:#555">../</span>datasets<span style="color:#555">/</span>coco128  <span style="color:#09f;font-style:italic"># dataset root dir</span>
train: images<span style="color:#555">/</span>train2017  <span style="color:#09f;font-style:italic"># train images (relative to &#39;path&#39;) 128 images</span>
val: images<span style="color:#555">/</span>train2017  <span style="color:#09f;font-style:italic"># val images (relative to &#39;path&#39;) 128 images</span>
test:  <span style="color:#09f;font-style:italic"># test images (optional)</span>

<span style="color:#09f;font-style:italic"># Classes</span>
nc: <span style="color:#f60">80</span>  <span style="color:#09f;font-style:italic"># number of classes</span>
names: [ <span style="color:#c30">&#39;person&#39;</span>, <span style="color:#c30">&#39;bicycle&#39;</span>, <span style="color:#c30">&#39;car&#39;</span>, <span style="color:#c30">&#39;motorcycle&#39;</span>, <span style="color:#c30">&#39;airplane&#39;</span>, <span style="color:#c30">&#39;bus&#39;</span>, <span style="color:#c30">&#39;train&#39;</span>, <span style="color:#c30">&#39;truck&#39;</span>, <span style="color:#c30">&#39;boat&#39;</span>, <span style="color:#c30">&#39;traffic light&#39;</span>,
         <span style="color:#c30">&#39;fire hydrant&#39;</span>, <span style="color:#c30">&#39;stop sign&#39;</span>, <span style="color:#c30">&#39;parking meter&#39;</span>, <span style="color:#c30">&#39;bench&#39;</span>, <span style="color:#c30">&#39;bird&#39;</span>, <span style="color:#c30">&#39;cat&#39;</span>, <span style="color:#c30">&#39;dog&#39;</span>, <span style="color:#c30">&#39;horse&#39;</span>, <span style="color:#c30">&#39;sheep&#39;</span>, <span style="color:#c30">&#39;cow&#39;</span>,
         <span style="color:#c30">&#39;elephant&#39;</span>, <span style="color:#c30">&#39;bear&#39;</span>, <span style="color:#c30">&#39;zebra&#39;</span>, <span style="color:#c30">&#39;giraffe&#39;</span>, <span style="color:#c30">&#39;backpack&#39;</span>, <span style="color:#c30">&#39;umbrella&#39;</span>, <span style="color:#c30">&#39;handbag&#39;</span>, <span style="color:#c30">&#39;tie&#39;</span>, <span style="color:#c30">&#39;suitcase&#39;</span>, <span style="color:#c30">&#39;frisbee&#39;</span>,
         <span style="color:#c30">&#39;skis&#39;</span>, <span style="color:#c30">&#39;snowboard&#39;</span>, <span style="color:#c30">&#39;sports ball&#39;</span>, <span style="color:#c30">&#39;kite&#39;</span>, <span style="color:#c30">&#39;baseball bat&#39;</span>, <span style="color:#c30">&#39;baseball glove&#39;</span>, <span style="color:#c30">&#39;skateboard&#39;</span>, <span style="color:#c30">&#39;surfboard&#39;</span>,
         <span style="color:#c30">&#39;tennis racket&#39;</span>, <span style="color:#c30">&#39;bottle&#39;</span>, <span style="color:#c30">&#39;wine glass&#39;</span>, <span style="color:#c30">&#39;cup&#39;</span>, <span style="color:#c30">&#39;fork&#39;</span>, <span style="color:#c30">&#39;knife&#39;</span>, <span style="color:#c30">&#39;spoon&#39;</span>, <span style="color:#c30">&#39;bowl&#39;</span>, <span style="color:#c30">&#39;banana&#39;</span>, <span style="color:#c30">&#39;apple&#39;</span>,
         <span style="color:#c30">&#39;sandwich&#39;</span>, <span style="color:#c30">&#39;orange&#39;</span>, <span style="color:#c30">&#39;broccoli&#39;</span>, <span style="color:#c30">&#39;carrot&#39;</span>, <span style="color:#c30">&#39;hot dog&#39;</span>, <span style="color:#c30">&#39;pizza&#39;</span>, <span style="color:#c30">&#39;donut&#39;</span>, <span style="color:#c30">&#39;cake&#39;</span>, <span style="color:#c30">&#39;chair&#39;</span>, <span style="color:#c30">&#39;couch&#39;</span>,
         <span style="color:#c30">&#39;potted plant&#39;</span>, <span style="color:#c30">&#39;bed&#39;</span>, <span style="color:#c30">&#39;dining table&#39;</span>, <span style="color:#c30">&#39;toilet&#39;</span>, <span style="color:#c30">&#39;tv&#39;</span>, <span style="color:#c30">&#39;laptop&#39;</span>, <span style="color:#c30">&#39;mouse&#39;</span>, <span style="color:#c30">&#39;remote&#39;</span>, <span style="color:#c30">&#39;keyboard&#39;</span>, <span style="color:#c30">&#39;cell phone&#39;</span>,
         <span style="color:#c30">&#39;microwave&#39;</span>, <span style="color:#c30">&#39;oven&#39;</span>, <span style="color:#c30">&#39;toaster&#39;</span>, <span style="color:#c30">&#39;sink&#39;</span>, <span style="color:#c30">&#39;refrigerator&#39;</span>, <span style="color:#c30">&#39;book&#39;</span>, <span style="color:#c30">&#39;clock&#39;</span>, <span style="color:#c30">&#39;vase&#39;</span>, <span style="color:#c30">&#39;scissors&#39;</span>, <span style="color:#c30">&#39;teddy bear&#39;</span>,
         <span style="color:#c30">&#39;hair drier&#39;</span>, <span style="color:#c30">&#39;toothbrush&#39;</span> ]  <span style="color:#09f;font-style:italic"># class names</span>

</code></pre></div><h2 id="2创建标签文件">2.创建标签文件</h2>
<p>使用CVAT或者makesense.ai来标注图片，并导出为YOLO格式，一般每张图片的标签是一个.txt文件（如果图像中没有标注的对象，那么将不会生成.txt文件）。.txt文件有格式如下：</p>
<ul>
<li>每个对象是一行</li>
<li>每行为<code>类别、x中点、y中点、宽、高</code></li>
<li>方框的坐标必须是归一化以后的xywh(从0到1)，如果box是像素级别描述的，要用x中点除以图像宽度、宽度除以图像宽度，y上一样。</li>
<li>类别要从0开始</li>
</ul>
<img src="https://user-images.githubusercontent.com/26833433/91506361-c7965000-e886-11ea-8291-c72b98c25eec.jpg" width="100%" height="15%">
<p>上图的标签文件包含了2个人和1个领带：
<img src="https://user-images.githubusercontent.com/26833433/112467037-d2568c00-8d66-11eb-8796-55402ac0d62f.png" width="100%" height="25%"></p>
<h2 id="3规划路径">3.规划路径</h2>
<p>根据下面这个例子来规划你训练集和验证集的路径，在这个例子中，我们假设<code>/coco128</code>是<code>yolov5</code>旁边的一个文件夹，
YOLOv5会自动为每个图片定位标签，通过将每个图片路径中的<code>/images/</code>用<code>/labels/</code>代替。例如：</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dataset<span style="color:#555">/</span>images<span style="color:#555">/</span>im0<span style="color:#555">.</span>jpg  <span style="color:#09f;font-style:italic"># image</span>
dataset<span style="color:#555">/</span>labels<span style="color:#555">/</span>im0<span style="color:#555">.</span>txt  <span style="color:#09f;font-style:italic"># label</span>
</code></pre></div><img src="https://user-images.githubusercontent.com/26833433/112467887-e18a0980-8d67-11eb-93af-6505620ff8aa.png" width="100%" height="25%">
<h2 id="4选择模型">4.选择模型</h2>
<p>选择一个预训练模型进行训练，这里我们选择<a href="https://github.com/ultralytics/yolov5/blob/master/models/yolov5s.yaml" target="_blank" rel="noopener">YOLOv5s<i class="fas fa-external-link-alt"></i></a>, 它是最轻量级的模型。可以返回之前README看一下所有模型的对比。
<img src="https://github.com/ultralytics/yolov5/releases/download/v1.0/model_comparison.png" width="80%" height="25%"></p>
<h2 id="5训练">5.训练</h2>
<p>要在COCO128上训练模型，要确定数据集、batchsize、图片尺寸和指定的预训练模型<code>--weight yolov5s.pt</code>（建议）,或者用
<code>--weights '' --cfg yolov5s.yaml</code>来随机初始化权重（不建议）。预训练模型会自动下载。</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#09f;font-style:italic"># Train YOLOv5s on COCO128 for 5 epochs</span>
<span style="color:#a00;background-color:#faa">$</span> python train<span style="color:#555">.</span>py <span style="color:#555">--</span>img <span style="color:#f60">640</span> <span style="color:#555">--</span>batch <span style="color:#f60">16</span> <span style="color:#555">--</span>epochs <span style="color:#f60">5</span> <span style="color:#555">--</span>data coco128<span style="color:#555">.</span>yaml <span style="color:#555">--</span>weights yolov5s<span style="color:#555">.</span>pt
</code></pre></div><p>训练的结果会按照迭代的次数保存在<code>runs/train/</code>，保存格式为<code>runs/train/exp2</code>、<code>runs/train/exp3</code>等等。</p>
<h1 id="可视化">可视化</h1>
<hr>
<h2 id="权重和偏移量显示">权重和偏移量显示</h2>
<p>现在可以进行实时的可视化，需要安装<code>wandb</code>，然后正常训练。
<code>$ pip install wandb</code>
训练期间可以在<a href="https://wandb.ai/site?utm_campaign=repo_yolo_traintutorial" target="_blank" rel="noopener">https://wandb.ai<i class="fas fa-external-link-alt"></i></a>看到实时的更新。</p>
<h2 id="本地显示">本地显示</h2>
<p>浏览训练和测试图片，以观测马赛克、标签、预测和增强的影响。Mosaic Dataloader在训练中使用，
是作者在yolov4中提出的。</p>



      </main>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/Joevaen/Joevaen.github.io">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 JV
          
        </small>
        
        
      </div>
    </div>
    <div class="row text-center text-white small">
      <div class="col-12 text-center py-2 order-sm-2">
        <a href="https://www.linuxfoundation.org/terms" target="_blank" rel="noopener">Terms</a> |
        <a href="https://www.linuxfoundation.org/privacy" target="_blank" rel="noopener">Privacy</a> |
        <a href="https://www.linuxfoundation.org/trademark-usage" target="_blank" rel="noopener">Trademarks</a> |
        <a href="https://github.com/grpc/grpc.io/blob/main/LICENSE" target="_blank" rel="noopener">License</a> |
        <a href="/about/">About</a>
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>











<script src="/js/main.min.d862e8117d34e02dff1772aeeb47caf7ed851d0f8a3a5345f7a32ccfb2f6b87f.js" integrity="sha256-2GLoEX004C3/F3Ku60fK9&#43;2FHQ&#43;KOlNF96Msz7L2uH8=" crossorigin="anonymous"></script>




  </body>
</html>