<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.82.1" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicons/android-chrome-512x512.png" sizes="512x512">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/favicons/site.webmanifest">
<title>Analyzing gRPC messages using Wireshark | gRPC</title>
<meta property="og:title" content="Analyzing gRPC messages using Wireshark" />
<meta property="og:description" content="Wireshark is an open source network protocol analyzer that can be used for protocol development, network troubleshooting, and education. Wireshark lets you analyze gRPC messages that are transferred over the network, and learn about the binary format of these messages.
In this post, you&rsquo;ll learn how to configure and use the Wireshark gRPC dissector and the Protocol Buffers (Protobuf) dissector, which are protocol-specific components that allow you to analyze gRPC messages with Wireshark." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Joevaen.github.io/blog/wireshark/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-02-03T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-02-03T13:55:35-05:00" /><meta property="og:site_name" content="gRPC" />

<meta itemprop="name" content="Analyzing gRPC messages using Wireshark">
<meta itemprop="description" content="Wireshark is an open source network protocol analyzer that can be used for protocol development, network troubleshooting, and education. Wireshark lets you analyze gRPC messages that are transferred over the network, and learn about the binary format of these messages.
In this post, you&rsquo;ll learn how to configure and use the Wireshark gRPC dissector and the Protocol Buffers (Protobuf) dissector, which are protocol-specific components that allow you to analyze gRPC messages with Wireshark."><meta itemprop="datePublished" content="2021-02-03T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2021-02-03T13:55:35-05:00" />
<meta itemprop="wordCount" content="1073">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Analyzing gRPC messages using Wireshark"/>
<meta name="twitter:description" content="Wireshark is an open source network protocol analyzer that can be used for protocol development, network troubleshooting, and education. Wireshark lets you analyze gRPC messages that are transferred over the network, and learn about the binary format of these messages.
In this post, you&rsquo;ll learn how to configure and use the Wireshark gRPC dissector and the Protocol Buffers (Protobuf) dissector, which are protocol-specific components that allow you to analyze gRPC messages with Wireshark."/>



<link rel="preload" href="/css/style.min.e3cf82e558200e98b09736f835e12b188dca1353aad6649d3429c72923031431.css" as="style">
<link href="/css/style.min.e3cf82e558200e98b09736f835e12b188dca1353aad6649d3429c72923031431.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163836834-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-163836834-2');
  gtag('config', 'UA-60127042-1');
</script>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="canonical" href="https://Joevaen.github.io/blog/wireshark/">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@grpcio">
<meta name="twitter:creator" content="@grpcio">
<meta name="twitter:image" content="https://Joevaen.github.io/img/logos/grpc-icon-color.png">
<meta name="twitter:image:alt" content="gRPC color logo">

<meta property="og:url" content="https://Joevaen.github.io/blog/wireshark/">
<meta property="og:title" content="Analyzing gRPC messages using Wireshark">
<meta property="og:description" content="A high-performance, open source universal RPC framework">
<meta property="og:type" content="article">
<meta property="og:site_name" content="gRPC">
<meta property="og:image" content="https://Joevaen.github.io/img/logos/grpc-icon-color.png">
<meta property="og:image:type" content="image/png">
<meta property="og:image:alt" content="gRPC color logo">
<meta property="og:locale" content="en_US">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicons/android-chrome-512x512.png" sizes="512x512">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/favicons/site.webmanifest">

  </head>
  <body class="td-page td-blog">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="672pt" height="436pt" viewBox="0 0 672 436"><g transform="translate(0.000000,436.000000) scale(0.100000,-0.100000)" fill="#000" stroke="none"><path d="M3066 3659c-376-41-707-264-894-602-35-63-50-101-45-113 4-12 3-15-5-10s-10 1-5-10c5-13 9-11 23 15 9 18 19 29 22 25 4-3 4 3 1 15-4 14-1 21 9 21 8 0 27 23 42 51 119 218 360 416 607 499 96 33 250 60 337 60 551 0 1009-390 1097-933 48-296-20-597-193-847-24-36-35-56-23-46 35 32 24 2-23-61-49-64-119-128-220-198-36-26-66-49-66-51 0-10 123 74 187 128 63 53 173 174 182 201 2 7 9 19 16 27s36 58 63 110c198 373 185 786-35 1159-25 42-60 95-79 118-42 51-45 68-4 22 68-76 190-285 190-326 0-7 5-12 11-10 6 1 14-4 17-12 2-8 0-11-5-8-6 4-8-4-5-19 3-18 7-22 12-13 6 8 12-2 19-29 6-23 15-59 21-80 31-121 29-332-5-516-9-44-13-81-11-83s16 47 31 109c26 106 27 122 22 268-4 119-12 179-32 260-56 225-191 440-375 598-70 59-261 182-284 182-6 0 25-21 69-47 44-25 105-65 135-89 62-48 149-134 135-134-6 0-32 23-60 51-67 67-224 171-325 215-78 34-249 83-294 85-21 0-21 1-1 9 15 7 8 9-30 10-27 0-72 2-1e2 4-27 2-86 0-129-5z"/><path d="M36e2 3580c8-5 20-10 25-10 6 0 3 5-5 10s-19 10-25 10c-5 0-3-5 5-10z"/><path d="M3519 3276c-69-18-136-62-211-138-191-194-325-488-288-630 12-45 45-88 67-88 18 0 16 19-2 27-24 9-45 57-45 103 0 121 141 397 271 531 111 115 241 189 303 173 1e2-25 76-265-64-626l-40-105-58-13c-79-17-211-65-309-110-197-92-359-233-429-375-35-71-39-87-39-154 0-65 4-83 28-123 61-104 188-133 299-70 70 41 176 152 251 265 67 102 188 333 243 464 37 89 39 92 79 102 43 11 84 36 74 45-3 3-24-2-47-11s-45-14-48-11 15 63 41 133c126 349 145 579 49 615-33 13-68 12-125-4zm-29-794c0-4-47-102-104-218-197-398-362-594-5e2-594-68 0-124 44-151 119-85 243 203 545 645 675 93 27 110 30 110 18z"/><path d="M2081 2794c0-11 3-14 6-6 3 7 2 16-1 19-3 4-6-2-5-13z"/><path d="M4291 2784c0-11 3-14 6-6 3 7 2 16-1 19-3 4-6-2-5-13z"/><path d="M2071 2754c0-11 3-14 6-6 3 7 2 16-1 19-3 4-6-2-5-13z"/><path d="M4302 2740c0-14 2-19 5-12 2 6 2 18 0 25-3 6-5 1-5-13z"/><path d="M2061 2714c0-11 3-14 6-6 3 7 2 16-1 19-3 4-6-2-5-13z"/><path d="M2052 2660c0-14 2-19 5-12 2 6 2 18 0 25-3 6-5 1-5-13z"/><path d="M2043 2585c0-22 2-30 4-17 2 12 2 30 0 40-3 9-5-1-4-23z"/><path d="M4252 2018c-15-37-19-55-11-63 7-7 8-4 3 9-6 15-4 17 6 11 9-5 11-4 6 3-4 7-3 12 3 12s7 7 4 17c-5 12-3 14 8 8 8-4 11-5 7 0-4 4-4 13 2 19 5 7 5 17 1 24s-15-8-29-40z"/><path d="M4205 1919c-3-4 2-6 10-5 21 3 28 13 10 13-9 0-18-4-20-8z"/><path d="M4024 1668l-19-23 23 19c12 11 22 21 22 23 0 8-8 2-26-19z"/><path d="M4015 1628l-40-43 43 40c39 36 47 45 39 45-2 0-21-19-42-42z"/><path d="M3969 1613c-13-16-12-17 4-4s21 21 13 21c-2 0-10-8-17-17z"/><path d="M3919 1543c-13-16-12-17 4-4 9 7 17 15 17 17 0 8-8 3-21-13z"/><path d="M3705 1428c-11-6-23-15-26-20-3-6-9-9-13-9-19 3-27 0-22-7 7-12-61-35-75-26-8 5-9 3-4-6 6-10 3-12-13-8-14 4-20 2-15-5 4-6-2-8-15-5-12 4-20 2-17-2 3-5 0-10-7-13-7-2-2-2 12 0 39 7 179 63 194 78 7 8 16 12 18 10 3-3 5 2 5 10s-1 15-1 15c-1 0-10-6-21-12z"/><path d="M3448 1313c7-3 16-2 19 1 4 3-2 6-13 5-11 0-14-3-6-6z"/><path d="M3355 13e2c-27-7-27-8-5-8 14 0 39 4 55 8 27 7 27 8 5 8-14 0-38-4-55-8z"/><path d="M3263 1283c9-2 25-2 35 0 9 3 1 5-18 5s-27-2-17-5z"/><path d="M1810 981c0-75-4-103-15-115-17-17-20-66-4-66 6 0 24 13 40 29 29 29 29 31 29 140v111h-25c-25 0-25 0-25-99z"/><path d="M2211 1062c-51-25-73-61-74-120-1-70 33-116 101-137 36-10 28 31-13 69-26 25-35 42-35 66s9 41 35 66c19 18 35 42 35 53 0 25-5 26-49 3z"/><path d="M2290 1060c0-12 16-36 35-54 26-25 35-42 35-66s-9-41-35-66c-41-38-49-79-12-69 66 20 99 65 99 135s-33 115-99 135c-19 5-23 2-23-15z"/><path d="M2692 1053l3-28h1e2 1e2l3 28 3 27h-106-106l3-27z"/><path d="M3150 1068c0-7 23-70 52-140 48-119 53-128 78-128s30 9 78 130c29 72 52 135 52 141s-12 9-27 7c-23-2-31-13-51-63-13-33-31-76-39-95l-14-35-25 59c-13 33-24 63-24 67s15 9 33 11c27 2 32 7 32 28 0 24-3 25-72 28-55 2-73 0-73-10z"/><path d="M3724 1003c-43-93-48-128-19-128 15 0 28 17 50 63l30 62 25-62c14-35 27-66 28-70 2-5-35-8-82-8-76 0-86-2-1e2-22-8-12-13-25-10-30 7-11 261-10 268 1 3 5-19 67-49 137-48 114-57 129-80 132s-29-4-61-75z"/><path d="M4187 1073c-4-3-7-14-7-24 0-25 28-31 125-27 79 3 80 3 83 31l3 27h-99c-54 0-102-3-105-7z"/><path d="M4670 1068c0-7 43-71 96-141 77-105 99-128 117-125 21 3 22 7 25 141l3 138-28-3c-28-3-28-4-33-86l-5-83-62 85c-50 69-68 86-88 86-14 0-25-6-25-12z"/><path d="M2694 955c-14-37 2-45 89-45 88 0 114 11 101 44-9 23-182 24-190 1z"/><path d="M4184 955c-3-8-3-22 0-30 5-13 22-15 98-13 92 3 93 3 93 28s-1 25-93 28c-76 2-93 0-98-13z"/><path d="M1675 890c-10-16 4-48 32-70 32-25 40-25 48 0 13 40-60 103-80 70z"/><path d="M4670 850c0-47 2-50 25-50s25 3 25 50-2 50-25 50-25-3-25-50z"/><path d="M2694 845c-3-8-3-22 0-30 5-13 23-15 103-13 97 3 98 3 98 28s-1 25-98 28c-80 2-98 0-103-13z"/><path d="M4184 845c-15-38 1-45 106-45h101l-3 28-3 27-98 3c-80 2-98 0-103-13z"/></g></svg></span><span class="text-uppercase font-weight-bold">gRPC</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs/" ><span>Docs</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/showcase/" ><span>Showcase</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog/" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/community/" ><span>Community</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/blog/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">
      
        gRPC Blog
      
    </a>
  </li>
  <ul>
    <li class="collapse show" id="blog">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-csharp-future" href="/blog/grpc-csharp-future/">
            
              The future of gRPC in C# belongs to grpc-dotnet
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page  active" id="m-blogwireshark" href="/blog/wireshark/">
            
              Analyzing gRPC messages using Wireshark
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-web-interceptor" href="/blog/grpc-web-interceptor/">
            
              Interceptors in gRPC-Web
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-js-10" href="/blog/grpc-js-1.0/">
            
              Announcing gRPC-JS 1.0
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogkotlin-meet-grpc" href="/blog/kotlin-meet-grpc/">
            
              Kotlin, meet gRPC
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-cloud-run" href="/blog/grpc-cloud-run/">
            
              gRPC comes to Cloud Run
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogcmake-improvements" href="/blog/cmake-improvements/">
            
              Improvements to gRPC&#39;s CMake Build System
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-on-dotnetcore" href="/blog/grpc-on-dotnetcore/">
            
              .NET Core ❤ gRPC
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloghello-pancakes" href="/blog/hello-pancakes/">
            
              Dear gRPC
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogstate-of-grpc-web" href="/blog/state-of-grpc-web/">
            
              The state of gRPC in the browser
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-stacks" href="/blog/grpc-stacks/">
            
              Visualizing gRPC Language Stacks
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-web-ga" href="/blog/grpc-web-ga/">
            
              gRPC-Web is Generally Available
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloga-short-introduction-to-channelz" href="/blog/a-short-introduction-to-channelz/">
            
              A short introduction to Channelz
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-on-http2" href="/blog/grpc-on-http2/">
            
              gRPC on HTTP/2 Engineering a Robust, High-performance Protocol
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-with-json" href="/blog/grpc-with-json/">
            
              gRPC &#43; JSON
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogtake-the-grpc-survey" href="/blog/take-the-grpc-survey/">
            
              Take the gRPC Survey!
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggraceful-cleanup-junit-tests" href="/blog/graceful-cleanup-junit-tests/">
            
              Gracefully clean up in gRPC JUnit tests
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-dotnet-build" href="/blog/grpc-dotnet-build/">
            
              gRPC Meets .NET SDK And Visual Studio: Automatic Codegen On Build
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogkotlin-gradle-projects" href="/blog/kotlin-gradle-projects/">
            
              gRPC ❤ Kotlin
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogoptimizing-grpc-part-2" href="/blog/optimizing-grpc-part-2/">
            
              So You Want to Optimize gRPC - Part 2
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogoptimizing-grpc-part-1" href="/blog/optimizing-grpc-part-1/">
            
              So You Want to Optimize gRPC - Part 1
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogdeadlines" href="/blog/deadlines/">
            
              gRPC and Deadlines
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-go-engineering-practices" href="/blog/grpc-go-engineering-practices/">
            
              gRPC-Go Engineering Practices
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogmeetup-kit" href="/blog/meetup-kit/">
            
              The gRPC Meetup Kit
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-go-perf-improvements" href="/blog/grpc-go-perf-improvements/">
            
              gRPC-Go performance Improvements
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogcommunity-meeting-update" href="/blog/community-meeting-update/">
            
              2017-08-17 Community Meeting Update
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-flatbuffers" href="/blog/grpc-flatbuffers/">
            
              Announcing out-of-the-box support for gRPC in the Flatbuffers serialization library
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloggrpc-load-balancing" href="/blog/grpc-load-balancing/">
            
              gRPC Load Balancing
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloghelm-grpc" href="/blog/helm-grpc/">
            
              gRPC in Helm
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogyikyak" href="/blog/yikyak/">
            
              Migration to Google Cloud Platform — gRPC &amp; grpc-gateway
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogbazel-rules-protobuf" href="/blog/bazel-rules-protobuf/">
            
              Building gRPC services with bazel and rules_protobuf
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogvsco" href="/blog/vsco/">
            
              gRPC at VSCO
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogvendasta" href="/blog/vendasta/">
            
              Why we have decided to move our APIs to gRPC
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogga-announcement" href="/blog/ga-announcement/">
            
              gRPC Project is now 1.0 and ready for production deployments
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogmobile-benchmarks" href="/blog/mobile-benchmarks/">
            
              Mobile Benchmarks
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogcoreos" href="/blog/coreos/">
            
              gRPC with REST and Open APIs
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-bloginstallation" href="/blog/installation/">
            
              gRPC - now with easy installation
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogpubsub" href="/blog/pubsub/">
            
              Google Cloud PubSub - with the power of gRPC!
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogbeta-release" href="/blog/beta-release/">
            
              gRPC releases Beta, opening door for use in production environments
            
            </a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-blogprinciples" href="/blog/principles/">
            
              gRPC Motivation and Design Principles
            
            </a>
        
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
    
    
      
    
    
    
    
    
    
    

    <a href="https://github.com/grpc/grpc.io/edit/main/content/en/blog/wireshark.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
    <a href="https://github.com/grpc/grpc.io/new/main/content/en/blog/wireshark.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
    <a href="https://github.com/grpc/grpc.io/issues/new?title=Analyzing%20gRPC%20messages%20using%20Wireshark" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
    
      
      <a href="https://github.com/grpc/grpc.io/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
    

  
  
  </div>





<nav id="TableOfContents">
  <ul>
    <li><a href="#features">Features</a></li>
    <li><a href="#capturing-grpc-traffic">Capturing gRPC traffic</a></li>
    <li><a href="#example">Example</a>
      <ul>
        <li><a href="#address-book-proto-files">Address book <code>.proto</code> files</a></li>
        <li><a href="#setting-protobuf-search-paths">Setting protobuf search paths</a></li>
        <li><a href="#loading-a-capture-file">Loading a capture file</a></li>
        <li><a href="#setting-port-traffic-type">Setting port traffic type</a></li>
        <li><a href="#decoding-the-search-request-message">Decoding the search request message</a></li>
        <li><a href="#decoding-the-server-streamed-response">Decoding the server-streamed response</a></li>
      </ul>
    </li>
    <li><a href="#history-of-grpc-and-protocol-buffers-support">History of gRPC and Protocol Buffers support</a></li>
    <li><a href="#learn-more">Learn more</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
            <a class="btn btn-lg -bg-orange td-rss-button d-none d-lg-block" href="https://Joevaen.github.io/blog/feed.xml" target="_blank">
              RSS <i class="fa fa-rss ml-2 "></i>
            </a>
            
<div class="td-content">
	<h1>Analyzing gRPC messages using Wireshark</h1>
	
	<div class="td-byline mb-4">
    By
			
				<a href="https://github.com/huangqiangxiong"><b>Huang Qiangxiong</b></a>
				, 
				<a href="https://github.com/chalin"><b>Patrice Chalin (editor)</b></a>
				
       |
    <time datetime="2021-02-03" class="text-muted">Wednesday, February 03, 2021</time>
	</div>
	<div class="d-xl-none td-toc td-toc--inline d-print-none">
		
  
    
      <a id="td-content__toc-link" href="#td-content__toc" data-toggle="collapse" aria-controls="td-docs-toc" aria-expanded="false" aria-label="Toggle toc navigation">
        <span class="lead">Contents<i class="fas fa-chevron-right ml-2"></i></span>
      </a>
      <div id="td-content__toc" class="collapse">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#features">Features</a></li>
    <li><a href="#capturing-grpc-traffic">Capturing gRPC traffic</a></li>
    <li><a href="#example">Example</a>
      <ul>
        <li><a href="#address-book-proto-files">Address book <code>.proto</code> files</a></li>
        <li><a href="#setting-protobuf-search-paths">Setting protobuf search paths</a></li>
        <li><a href="#loading-a-capture-file">Loading a capture file</a></li>
        <li><a href="#setting-port-traffic-type">Setting port traffic type</a></li>
        <li><a href="#decoding-the-search-request-message">Decoding the search request message</a></li>
        <li><a href="#decoding-the-server-streamed-response">Decoding the server-streamed response</a></li>
      </ul>
    </li>
    <li><a href="#history-of-grpc-and-protocol-buffers-support">History of gRPC and Protocol Buffers support</a></li>
    <li><a href="#learn-more">Learn more</a></li>
  </ul>
</nav>
      </div>
      <button id="td-content__toc-link-expanded" href="#td-content__toc" class="btn btn-small ml-1 my-2 py-0 px-3" data-toggle="collapse" aria-controls="td-docs-toc" aria-expanded="true" aria-label="Toggle toc navigation">
      </button>
    
  


	</div>
	
	<p><a href="https://www.wireshark.org" target="_blank" rel="noopener">Wireshark<i class="fas fa-external-link-alt"></i></a> is an open source network protocol
analyzer that can be used for protocol development, network troubleshooting, and
education. Wireshark lets you analyze gRPC messages that are transferred over
the network, and learn about the binary format of these messages.</p>
<p>In this post, you&rsquo;ll learn how to configure and use the Wireshark <a href="https://gitlab.com/wireshark/wireshark/-/wikis/gRPC" target="_blank" rel="noopener">gRPC
dissector<i class="fas fa-external-link-alt"></i></a> and the <a href="https://gitlab.com/wireshark/wireshark/-/wikis/Protobuf" target="_blank" rel="noopener">Protocol Buffers (Protobuf) dissector<i class="fas fa-external-link-alt"></i></a>, which are
protocol-specific components that allow you to analyze gRPC messages with
Wireshark.</p>
<h2 id="features">Features</h2>
<p>The main features of the gRPC and Protobuf dissectors are the following:</p>
<ul>
<li>
<p>Support dissecting (decoding) gRPC messages serialized in the
<a href="https://developers.google.com/protocol-buffers/docs/encoding" target="_blank" rel="noopener">protocol buffer wire format<i class="fas fa-external-link-alt"></i></a> or as JSON</p>
</li>
<li>
<p>Support dissecting gRPC messages of unary, server streaming, client streaming,
and bidirectional streaming RPC calls</p>
</li>
<li>
<p>Enhanced dissection of serialized protocol buffers data by allowing
you to do the following:</p>
<ul>
<li>Load relevant <code>.proto</code> files</li>
<li>Register your own subdissectors for protocol buffer fields of type <code>byte</code> or
<code>string</code></li>
</ul>
</li>
</ul>
<h2 id="capturing-grpc-traffic">Capturing gRPC traffic</h2>
<p>This post focuses on the analysis of captured gRPC messages. To learn how to
store network traffic in <em>capture files</em>, see <a href="https://www.wireshark.org/docs/wsug_html_chunked/ChapterCapture.html" target="_blank" rel="noopener">Capturing Live Network Data<i class="fas fa-external-link-alt"></i></a>
from the <a href="https://www.wireshark.org/docs/wsug_html_chunked/" target="_blank" rel="noopener">Wireshark User’s Guide<i class="fas fa-external-link-alt"></i></a>.</p>


<div class="alert alert-info" role="alert">
<h4 class="alert-heading">Note</h4>

    Currently, Wireshark can only parse <strong>plain text</strong> gRPC messages. While
<a href="https://gitlab.com/wireshark/wireshark/-/wikis/tls" target="_blank" rel="noopener">Wireshark supports TLS dissection<i class="fas fa-external-link-alt"></i></a>, it requires per-session secret keys. As
of the time of writing, the only <a href="/docs/languages/go">Go gRPC</a> supports the exporting such keys.
To learn how to export keys using Go gRPC &ndash; and other languages as support
becomes available &ndash; see <a href="https://gitlab.com/wireshark/wireshark/-/wikis/How-to-Export-TLS-Master-keys-of-gRPC" target="_blank" rel="noopener">How to Export TLS Master keys of gRPC<i class="fas fa-external-link-alt"></i></a>.

</div>

<h2 id="example">Example</h2>
<p>Let&rsquo;s walk through the setup necessary to analyze previously-captured messages
that were generated by a slightly extended version of the <em>address book</em> app
used in the <a href="https://developers.google.com/protocol-buffers/docs/tutorials" target="_blank" rel="noopener">Protocol Buffers tutorials<i class="fas fa-external-link-alt"></i></a>.</p>
<h3 id="address-book-proto-files">Address book <code>.proto</code> files</h3>
<p>The app&rsquo;s main protocol file is <code>addressbook.proto</code>:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-protobuf" data-lang="protobuf">syntax <span style="color:#555">=</span> <span style="color:#c30">&#34;proto3&#34;</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span><span style="color:#069;font-weight:bold">package</span> <span style="color:#0cf;font-weight:bold">tutorial</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span><span style="color:#069;font-weight:bold">import</span> <span style="color:#c30">&#34;google/protobuf/timestamp.proto&#34;</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span><span style="color:#069;font-weight:bold">message</span> <span style="color:#0a8;font-weight:bold">Person</span> {<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#078;font-weight:bold">string</span> name <span style="color:#555">=</span> <span style="color:#f60">1</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#078;font-weight:bold">int32</span> id <span style="color:#555">=</span> <span style="color:#f60">2</span>;  <span style="color:#09f;font-style:italic">// Unique ID number for this person.
</span><span style="color:#09f;font-style:italic"></span>  <span style="color:#078;font-weight:bold">string</span> email <span style="color:#555">=</span> <span style="color:#f60">3</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#069;font-weight:bold">enum</span> PhoneType {<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>    MOBILE <span style="color:#555">=</span> <span style="color:#f60">0</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>    HOME <span style="color:#555">=</span> <span style="color:#f60">1</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>    WORK <span style="color:#555">=</span> <span style="color:#f60">2</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  }<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#069;font-weight:bold">message</span> <span style="color:#0a8;font-weight:bold">PhoneNumber</span> {<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>    <span style="color:#078;font-weight:bold">string</span> number <span style="color:#555">=</span> <span style="color:#f60">1</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>    PhoneType type <span style="color:#555">=</span> <span style="color:#f60">2</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  }<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#069;font-weight:bold">repeated</span> PhoneNumber phone <span style="color:#555">=</span> <span style="color:#f60">4</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  google.protobuf.Timestamp last_updated <span style="color:#555">=</span> <span style="color:#f60">5</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#078;font-weight:bold">bytes</span> portrait_image <span style="color:#555">=</span> <span style="color:#f60">6</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>}<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span><span style="color:#069;font-weight:bold">message</span> <span style="color:#0a8;font-weight:bold">AddressBook</span> {<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#069;font-weight:bold">repeated</span> Person people <span style="color:#555">=</span> <span style="color:#f60">1</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>}<span style="color:#a00;background-color:#faa">
</span></code></pre></div><p>This file is identical to the <a href="https://github.com/protocolbuffers/protobuf/blob/master/examples/addressbook.proto" target="_blank" rel="noopener">Protocol Buffers tutorial version<i class="fas fa-external-link-alt"></i></a>,
except for the additional <code>portrait_image</code> field.</p>
<p>Note the <code>import</code> statement at the top of the file, it is used to import
<code>Timestamp</code>, which is one of many <a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf" target="_blank" rel="noopener">Protocol Buffers Well-Known Types<i class="fas fa-external-link-alt"></i></a>.</p>
<p>Our variant of the app also defines a <em>person-search</em> service that can be used
to search for address book entries based on selected <code>Person</code> attributes. The
service is defined in <code>person_search_service.proto</code>:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-protobuf" data-lang="protobuf">syntax <span style="color:#555">=</span> <span style="color:#c30">&#34;proto3&#34;</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span><span style="color:#069;font-weight:bold">package</span> <span style="color:#0cf;font-weight:bold">tutorial</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span><span style="color:#069;font-weight:bold">import</span> <span style="color:#c30">&#34;addressbook.proto&#34;</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span><span style="color:#069;font-weight:bold">message</span> <span style="color:#0a8;font-weight:bold">PersonSearchRequest</span> {<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#069;font-weight:bold">repeated</span> <span style="color:#078;font-weight:bold">string</span> name <span style="color:#555">=</span> <span style="color:#f60">1</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#069;font-weight:bold">repeated</span> <span style="color:#078;font-weight:bold">int32</span> id <span style="color:#555">=</span> <span style="color:#f60">2</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#069;font-weight:bold">repeated</span> <span style="color:#078;font-weight:bold">string</span> phoneNumber <span style="color:#555">=</span> <span style="color:#f60">3</span>;<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>}<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span><span style="color:#069;font-weight:bold">service</span> PersonSearchService {<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>  <span style="color:#069;font-weight:bold">rpc</span> Search (PersonSearchRequest) <span style="color:#069;font-weight:bold">returns</span> (stream Person) {}<span style="color:#a00;background-color:#faa">
</span><span style="color:#a00;background-color:#faa"></span>}<span style="color:#a00;background-color:#faa">
</span></code></pre></div><p>Because the service uses the <code>Person</code> type defined in <code>addressbook.proto</code>,
the address book <code>.proto</code> is imported at the start of the file.</p>
<h3 id="setting-protobuf-search-paths">Setting protobuf search paths</h3>
<p>Wireshark gives the most meaningful decodings when it knows about the <code>.proto</code>
files used by the apps whose messages you are analyzing.</p>
<p>You can tell Wireshark where to find <code>.proto</code> files by setting the <strong>Protobuf
Search Paths</strong> in the preferences accessible from the <strong>Edit</strong> menu under
<strong>Preferences &gt; Protocols &gt; Protobuf</strong>.</p>
<p>If our example app&rsquo;s <code>.proto</code> files are in the <code>d:/protos/my_proto_files</code> directory,
and the official Protobuf library directory is
<code>d:/protos/protobuf-3.4.1/include</code>, then add these two paths as <em>source
directories</em> like this:</p>
<p>

<figure class="text-center">
  <img class="modal-trigger" src="/img/blog/wireshark/protobuf_search_paths.png" alt="Protobuf-search-paths dialog" id="protobuf_search_paths" data-toggle="modal" data-target="#modal-protobuf_search_paths"/>

  <div class="modal" id="modal-protobuf_search_paths">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-body">
        <img src="/img/blog/wireshark/protobuf_search_paths.png" alt="Protobuf-search-paths dialog"/>
      </div>
  </div>
</figure>
</p>
<p>By selecting the <strong>Load all files</strong> option for the app&rsquo;s protocol directory you
enable preloading of message definitions from the <code>addressbook.proto</code> and
<code>person_search_service.proto</code> files.</p>
<h3 id="loading-a-capture-file">Loading a capture file</h3>
<p>From the Wireshark <a href="https://gitlab.com/wireshark/wireshark/-/wikis/SampleCaptures" target="_blank" rel="noopener">SampleCaptures page<i class="fas fa-external-link-alt"></i></a>, download the following sample gRPC
capture file created by running the app and issuing a search request:
<a href="https://gitlab.com/wireshark/wireshark/-/wikis/uploads/f6fcdceb0248669c0b057bd15d45ab6f/grpc_person_search_protobuf_with_image.pcapng" target="_blank" rel="noopener">grpc_person_search_protobuf_with_image.pcapng<i class="fas fa-external-link-alt"></i></a>.</p>
<p>Select <strong>Open</strong> from the <strong>File</strong> menu to load the capture file in Wireshark.
Wireshark displays, in order, all of the network traffic from the capture file
in the <strong>Packet-list pane</strong> at the top of the window.</p>
<p>Select an entry from the packet-list pane and Wireshark will decode it and show
its details in the lower pane like this:</p>
<p>

<figure class="text-center">
  <img class="modal-trigger" src="/img/blog/wireshark/after_file_load.png" alt="Packet-list and packet-detail panes" id="after_file_load" data-toggle="modal" data-target="#modal-after_file_load"/>

  <div class="modal" id="modal-after_file_load">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-body">
        <img src="/img/blog/wireshark/after_file_load.png" alt="Packet-list and packet-detail panes"/>
      </div>
  </div>
</figure>
</p>
<p>Select an entry from the details pane to see the byte sequence corresponding to
that entry:</p>
<p>

<figure class="text-center">
  <img class="modal-trigger" src="/img/blog/wireshark/packet_bytes.png" alt="Packet bytes" id="packet_bytes" data-toggle="modal" data-target="#modal-packet_bytes"/>

  <div class="modal" id="modal-packet_bytes">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-body">
        <img src="/img/blog/wireshark/packet_bytes.png" alt="Packet bytes"/>
      </div>
  </div>
</figure>
</p>
<h3 id="setting-port-traffic-type">Setting port traffic type</h3>
<p>The app&rsquo;s server-side port is 50051. The client-side port, which is different
for each RPC call, is 51035 in the sample capture file.</p>
<p>You need to tell Wireshark that these ports are carrying HTTP2 traffic. Do this
through the <strong>Decode As</strong> dialog, which you access from the <strong>Analyze</strong> menu (or
right-click on an entry from the packet-list pane). You only need to register
the server-side port:</p>
<p>

<figure class="text-center">
  <img class="modal-trigger" src="/img/blog/wireshark/decode_as_dialog.png" alt="Decode-as dialog" id="decode_as_dialog" data-toggle="modal" data-target="#modal-decode_as_dialog"/>

  <div class="modal" id="modal-decode_as_dialog">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-body">
        <img src="/img/blog/wireshark/decode_as_dialog.png" alt="Decode-as dialog"/>
      </div>
  </div>
</figure>
</p>
<p>Look at the packet-list pane and you&rsquo;ll see that Wireshark is now decoding HTTP2
and gRPC messages:</p>
<p>

<figure class="text-center">
  <img class="modal-trigger" src="/img/blog/wireshark/http2_grpc.png" alt="Packets are decoded as HTTP2 and gRPC messages" id="http2_grpc" data-toggle="modal" data-target="#modal-http2_grpc"/>

  <div class="modal" id="modal-http2_grpc">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-body">
        <img src="/img/blog/wireshark/http2_grpc.png" alt="Packets are decoded as HTTP2 and gRPC messages"/>
      </div>
  </div>
</figure>
</p>
<h3 id="decoding-the-search-request-message">Decoding the search request message</h3>
<p>Select the first gRPC message sent to port 50051, it corresponds to the sample&rsquo;s
service request message. This is how Wireshark dissects the gRPC request:</p>
<p>

<figure class="text-center">
  <img class="modal-trigger" src="/img/blog/wireshark/grpc_protobuf_search_request.png" alt="Decoded search request" id="grpc_protobuf_search_request" data-toggle="modal" data-target="#modal-grpc_protobuf_search_request"/>

  <div class="modal" id="modal-grpc_protobuf_search_request">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-body">
        <img src="/img/blog/wireshark/grpc_protobuf_search_request.png" alt="Decoded search request"/>
      </div>
  </div>
</figure>
</p>
<p>By examining the HTTP2 message header <code>path</code> field, you&rsquo;ll see the URL to the
app&rsquo;s service (<code>/tutorial.PersonSearchService</code>), followed by the name of the
invoked RPC (<code>Search</code>).</p>
<p>The <code>content-type</code>, which is set by the gRPC library, informs Wireshark that the
HTTP2 message content is a gRPC message. By examining the decoded Protocol
Buffers message of the sample gRPC request, you can see that the search request
is for the names &ldquo;Jason&rdquo; and &ldquo;Lily&rdquo;.</p>
<h3 id="decoding-the-server-streamed-response">Decoding the server-streamed response</h3>
<p>Since the <code>Search</code> RPC response is server-streaming, <code>Person</code> objects can be
returned to the client one after another.</p>
<p>Select the second <code>Person</code> message returned in the response stream
to see its details:</p>
<p>

<figure class="text-center">
  <img class="modal-trigger" src="/img/blog/wireshark/grpc_protobuf_search_response.png" alt="Decoded search response" id="grpc_protobuf_search_response" data-toggle="modal" data-target="#modal-grpc_protobuf_search_response"/>

  <div class="modal" id="modal-grpc_protobuf_search_response">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-body">
        <img src="/img/blog/wireshark/grpc_protobuf_search_response.png" alt="Decoded search response"/>
      </div>
  </div>
</figure>
</p>
<p>By registering subdissectors, you can have Wireshark further decode fields of
type <code>byte</code> or <code>string</code>. For example, to learn how to register a PNG decoder for
the <code>portrait_image</code> field, see <a href="https://gitlab.com/wireshark/wireshark/-/wikis/Protobuf#protobuf-field-subdissectors" target="_blank" rel="noopener">Protobuf field subdissectors<i class="fas fa-external-link-alt"></i></a>.</p>
<h2 id="history-of-grpc-and-protocol-buffers-support">History of gRPC and Protocol Buffers support</h2>
<p>Here is a brief annotated list of Wireshark versions as they relate to the
support of gRPC and Protocol Buffers:</p>
<ul>
<li>v2.6.0: first release of gRPC and Protobuf dissectors, without
support for <code>.proto</code> files or streaming RPCs.</li>
<li>v3.2.0: improved dissection of serialized protocol buffers data based on
<code>.proto</code> files, and support of streaming RPCs.</li>
<li>v3.3.0: improved and enhanced <code>.proto</code> file support, such as capture-file
search on protocol buffer field values.</li>
<li>v3.4.0: Protocol Buffers <a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Timestamp" target="_blank" rel="noopener">Timestamp<i class="fas fa-external-link-alt"></i></a> time is displayed as locale date-time
string.</li>
</ul>
<h2 id="learn-more">Learn more</h2>
<p>Interested in learning more? Start with the <a href="https://www.wireshark.org/docs/wsug_html_chunked/" target="_blank" rel="noopener">Wireshark User’s Guide<i class="fas fa-external-link-alt"></i></a>. For more
details concerning the example used in this post, as well as other sample
capture files containing gRPC messages, see the <a href="https://gitlab.com/wireshark/wireshark/-/wikis/gRPC" target="_blank" rel="noopener">gRPC dissector<i class="fas fa-external-link-alt"></i></a> and <a href="https://gitlab.com/wireshark/wireshark/-/wikis/Protobuf" target="_blank" rel="noopener">Protocol
Buffers dissector<i class="fas fa-external-link-alt"></i></a> wiki pages.</p>

	

	<ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5">
  <li>
    <a href="/blog/grpc-web-interceptor/" class="btn btn-primary "><span class="mr-1">←</span> Previous</a>
  </li>
    <a href="/blog/grpc-csharp-future/" class="btn btn-primary ">Next <span class="ml-1">→</span></a>
  </li>
</ul>

	<div class="c-global-meta-links">
		
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
    
    
      
    
    
    
    
    
    
    

    <a href="https://github.com/grpc/grpc.io/edit/main/content/en/blog/wireshark.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
    <a href="https://github.com/grpc/grpc.io/new/main/content/en/blog/wireshark.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
    <a href="https://github.com/grpc/grpc.io/issues/new?title=Analyzing%20gRPC%20messages%20using%20Wireshark" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
    
      
      <a href="https://github.com/grpc/grpc.io/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
    

  
  
  </div>


	</div>
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/grpcio">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Google Groups" aria-label="Google Groups">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://groups.google.com/g/grpc-io">
      <i class="fab fa-google"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Gitter" aria-label="Gitter">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://gitter.im/grpc/grpc">
      <i class="fab fa-gitter"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/grpc">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 gRPC Authors
          
        </small>
        
        
      </div>
    </div>
    <div class="row text-center text-white small">
      <div class="col-12 text-center py-2 order-sm-2">
        <a href="https://www.linuxfoundation.org/terms" target="_blank" rel="noopener">Terms</a> |
        <a href="https://www.linuxfoundation.org/privacy" target="_blank" rel="noopener">Privacy</a> |
        <a href="https://www.linuxfoundation.org/trademark-usage" target="_blank" rel="noopener">Trademarks</a> |
        <a href="https://github.com/grpc/grpc.io/blob/main/LICENSE" target="_blank" rel="noopener">License</a> |
        <a href="/about/">About</a>
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>











<script src="/js/main.min.d862e8117d34e02dff1772aeeb47caf7ed851d0f8a3a5345f7a32ccfb2f6b87f.js" integrity="sha256-2GLoEX004C3/F3Ku60fK9&#43;2FHQ&#43;KOlNF96Msz7L2uH8=" crossorigin="anonymous"></script>




  </body>
</html>